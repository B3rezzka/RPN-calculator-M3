# RPN-calculator V. M3, made for lab #1 MAI

## Введение
Данный калькулятор принимает Выражения в [Обратной Польской Нотации (RPN)](https://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D1%80%D0%B0%D1%82%D0%BD%D0%B0%D1%8F_%D0%BF%D0%BE%D0%BB%D1%8C%D1%81%D0%BA%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C) и выводит вам результат. Также программа может работать со скобками.

## Структура проекта

 <pre>
    .
    ├── RPN-calculator-M3                      # Репозиторий
    │   ├── src/                               # Исходный код
    │   ├── tests/                             # Pytests тесты
    │   ├── .gitignore                         # Git ignore файл
    │   ├── pre-commit-config.yaml             # Средства автоматизации проверки кодстайла
    |   ├── pyproject.toml                     # Центральный файл конфигурации проекта
    │   ├── README.md                          # Описание проекта
    │   ├── requirements.txt                   # Зависимости вашего проекта
</pre>

## Формат ввода выражений
- На вход поступает выражение , где каждый элемент разделён пробелом (кроме отрицательных чисел)
- Правильный ввод: ( 3 ( 4 3 * ) + ); 3 4 + 2 -
- Неправильный ввод: (4 - 9)2+

## Примеры чисел на входе:
- 4.0 (Может посчитать за 4, если это потребуется), 2.5, -5.6
- 1, 2, 5, 42
- -3, -52, -1483

## Обработка скобок
- Проверяет, сбалансированы ли все скобки, если не все скобки открыты или закрыты, то выдаёт ошибку
- Может быть бесконечное вложенных скобок
- Обрабатывает только круглые скобки
- Выдаёт ошибку если с вкобках неправильное выражение

## Работа с операциями
- **Если чисел меньше чем два, то выдает ошибку!!**
- (+) сложение
- (-) вычитание
- (*) умножение
- (/) деление, при делителе != 0, иначе ошибка
- (//) целочисленное деление, оба числа должны быть целыми и делитель != 0, иначе ошибка
- (%) остаток от деления, при делителе != 0 и оба числа целые
- (**) возведение в степень

# Принцип работы алгоритма
1) На вход поступает строка и разбивается по пробелам на токены
2) Обработка токенов по принципу:
 - Число помещается в стек
 - Оператор извлекает из стека 2 числа, и выполняет операцию, возвращает результат обратно в стек (возвращает в стек ошибку при ошибке вычисления и выводит ошибку в результат)
 - Открывающаяся скобка начинает новое подвыражение создавая новый стек, начиная этот алгоритм заново для подвыражения
 - Закрывающая скокба возвращает результат подвыражения в предыдущий стек
 - В стеке должен остаться один элемент что и станет результатом, иначе выдаст ошибку в зависимости от случая (см. тесты)
 - При инородных символах выведет ошибку